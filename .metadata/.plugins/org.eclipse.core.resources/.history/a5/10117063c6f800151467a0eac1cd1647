
import javax.swing.*;

import java.awt.*;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import net.miginfocom.swing.MigLayout;

public class RightSplit implements ActionListener {

	JPanel jPanel = new JPanel();

	private DBConnect db = new DBConnect();
	private MainGUI mainGUI;
	
	private JTabbedPane jtp = new JTabbedPane();
	private TransactionTab transactionTab;
	private JButton btnDelTab;
	private JTextField txtTabName;
	private JTable table;

	public RightSplit(MainGUI mainGUI) {

		this.mainGUI = mainGUI;
		GridBagLayout gbl_jPanel = new GridBagLayout();
		gbl_jPanel.columnWidths = new int[]{73, 665, 0};
		gbl_jPanel.rowHeights = new int[]{253, 38, 23, 209, 23, 0};
		gbl_jPanel.columnWeights = new double[]{0.0, 0.0, Double.MIN_VALUE};
		gbl_jPanel.rowWeights = new double[]{0.0, 0.0, 0.0, 0.0, 0.0, Double.MIN_VALUE};
		jPanel.setLayout(gbl_jPanel);

		TransactionTab jp1 = new TransactionTab(mainGUI);

		jPanel.setSize(800, 600);
		GridBagConstraints gbc_jtp = new GridBagConstraints();
		gbc_jtp.fill = GridBagConstraints.BOTH;
		gbc_jtp.insets = new Insets(0, 0, 5, 0);
		gbc_jtp.gridwidth = 2;
		gbc_jtp.gridx = 0;
		gbc_jtp.gridy = 0;
		jPanel.add(jtp, gbc_jtp);
		TransactionTab jp2 = new TransactionTab(mainGUI);
		
				jtp.addTab("Tab1", jp1.getJPanel());
				jtp.addTab("Tab2", jp2);
		
				JButton btnAddTab = new JButton("Add Tab");
				
						btnAddTab.addActionListener(new ActionListener() {
							public void actionPerformed(ActionEvent e) {
								jtp.addTab(txtTabName.getText(), new TransactionTab(mainGUI));
							}
						});
						
								GridBagConstraints gbc_btnAddTab = new GridBagConstraints();
								gbc_btnAddTab.anchor = GridBagConstraints.NORTHWEST;
								gbc_btnAddTab.insets = new Insets(0, 0, 5, 5);
								gbc_btnAddTab.gridx = 0;
								gbc_btnAddTab.gridy = 2;
								jPanel.add(btnAddTab, gbc_btnAddTab);
		
		txtTabName = new JTextField();
		GridBagConstraints gbc_txtTabName = new GridBagConstraints();
		gbc_txtTabName.anchor = GridBagConstraints.WEST;
		gbc_txtTabName.fill = GridBagConstraints.VERTICAL;
		gbc_txtTabName.insets = new Insets(0, 0, 5, 0);
		gbc_txtTabName.gridx = 1;
		gbc_txtTabName.gridy = 2;
		jPanel.add(txtTabName, gbc_txtTabName);
		txtTabName.setColumns(10);
		
		table = new JTable();
		GridBagConstraints gbc_table = new GridBagConstraints();
		gbc_table.anchor = GridBagConstraints.WEST;
		gbc_table.fill = GridBagConstraints.VERTICAL;
		gbc_table.insets = new Insets(0, 0, 5, 0);
		gbc_table.gridwidth = 2;
		gbc_table.gridx = 0;
		gbc_table.gridy = 3;
		jPanel.add(table, gbc_table);
		
		btnDelTab = new JButton("Del Tab");
		
				
				btnDelTab.addActionListener(new ActionListener() {
					 public void actionPerformed(ActionEvent evt) {
		
					        int index = jtp.indexOfTab("Glenn");
					        if (index >= 0) {
					            jtp.removeTabAt(index);
					        }
		
					    }
				});
				GridBagConstraints gbc_btnDelTab = new GridBagConstraints();
				gbc_btnDelTab.anchor = GridBagConstraints.NORTHWEST;
				gbc_btnDelTab.gridwidth = 2;
				gbc_btnDelTab.gridx = 0;
				gbc_btnDelTab.gridy = 4;
				jPanel.add(btnDelTab, gbc_btnDelTab);

	}

	public JPanel getJPanel() {
		return jPanel;
	}

	private class ActListener implements ActionListener {
		public void actionPerformed(ActionEvent e) {

			// if (e.getSource() == btnLogin) {
			//
			// }
			//
			// else {
			//
			// }
		}

	}

	@Override
	public void actionPerformed(ActionEvent e) {
		// TODO Auto-generated method stub

	}
}